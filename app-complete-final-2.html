<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindWell - Your Mental Wellness Companion</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #4f46e5;
            --secondary: #7c3aed;
            --accent: #06b6d4;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --dark: #1e293b;
            --text: #334155;
            --light-bg: #f8fafc;
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            color: var(--text);
        }

        /* Splash Screen Styles */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            display: flex;
            justify-content: center;
            align-items: flex-start;
            z-index: 10000;
            animation: fadeIn 0.5s ease-in;
            overflow-y: auto;
            padding: 20px 0;
        }

        .splash-content {
            max-width: 800px;
            padding: 40px 20px;
            text-align: center;
            color: white;
            margin: auto;
        }

        .splash-logo {
            font-size: 4em;
            margin-bottom: 15px;
            animation: bounce 2s ease-in-out infinite;
            display: inline-block;
        }

        @keyframes bounce {
            0%, 100% { 
                transform: translateY(0); 
            }
            50% { 
                transform: translateY(-20px); 
            }
        }

        .splash-title {
            font-family: 'Playfair Display', serif;
            font-size: 3.5em;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
            letter-spacing: 2px;
        }

        .splash-tagline {
            font-size: 1.3em;
            font-weight: 300;
            margin-bottom: 25px;
            opacity: 0.95;
            letter-spacing: 1px;
        }

        .splash-intro {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .splash-intro h3 {
            font-size: 1.3em;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .splash-intro p {
            font-size: 1em;
            line-height: 1.6;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .book-feature {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .book-feature h4 {
            font-size: 1.2em;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .book-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.6em;
            font-weight: 700;
            margin: 12px 0;
            color: #fbbf24;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
        }

        .author-note {
            font-style: italic;
            font-size: 0.95em;
            margin-top: 15px;
            padding: 15px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            border-left: 4px solid #fbbf24;
            line-height: 1.6;
        }

        .splash-enter-btn {
            background: white;
            color: var(--primary);
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            font-family: 'Poppins', sans-serif;
            margin: 25px 0 40px 0;
            display: inline-block;
        }

        .splash-enter-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
            background: #fbbf24;
            color: var(--dark);
        }

        .auto-timer {
            color: rgba(255,255,255,0.8);
            font-size: 0.9em;
            margin-top: 15px;
            font-weight: 300;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        .fade-out {
            animation: fadeOut 0.5s ease-out forwards;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .auth-box {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 450px;
            width: 100%;
        }

        .logo {
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 10px;
            color: var(--primary);
            font-weight: bold;
        }

        .auth-box h2 {
            text-align: center;
            color: var(--dark);
            margin-bottom: 30px;
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .input-group label {
            font-weight: 600;
            color: var(--dark);
        }

        .input-group input {
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1em;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.4);
        }

        .btn-secondary {
            background: var(--light-bg);
            color: var(--dark);
            border: 2px solid #e2e8f0;
        }

        .btn-link {
            background: transparent;
            color: var(--primary);
            text-decoration: none;
            padding: 8px 16px;
            border: 2px solid var(--primary);
            border-radius: 8px;
            display: inline-block;
            margin: 5px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-link:hover {
            background: var(--primary);
            color: white;
        }

        .toggle-auth {
            text-align: center;
            color: var(--text);
            margin-top: 10px;
        }

        .toggle-auth a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            cursor: pointer;
        }

        .hidden {
            display: none !important;
        }

        .header {
            background: rgba(255,255,255,0.95);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .header .logo {
            font-size: 1.8em;
            margin: 0;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-name {
            color: var(--dark);
            font-weight: 600;
        }

        .btn-logout {
            background: transparent;
            color: var(--danger);
            border: 2px solid var(--danger);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        .btn-logout:hover {
            background: var(--danger);
            color: white;
        }

        .nav-menu {
            background: rgba(255,255,255,0.95);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .nav-btn {
            background: white;
            border: 2px solid #e2e8f0;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            color: var(--dark);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-btn:hover {
            border-color: var(--primary);
            background: var(--light-bg);
            transform: translateY(-2px);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-color: transparent;
        }

        .nav-icon {
            font-size: 1.3em;
        }

        .page-title {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
            font-weight: bold;
        }

        .card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .card h2 {
            color: var(--dark);
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        .card h3 {
            color: var(--dark);
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .card h4 {
            color: var(--dark);
            margin: 15px 0 10px 0;
            font-size: 1.1em;
        }

        .card p {
            line-height: 1.6;
            color: var(--text);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .crisis-alert {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .crisis-alert h3 {
            color: white;
            margin-bottom: 10px;
        }

        .hotline-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .hotline-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #e2e8f0;
        }

        .hotline-card.urgent {
            border: 3px solid var(--danger);
            background: #fef2f2;
        }

        .btn-emergency {
            background: var(--danger);
            color: white;
            text-decoration: none;
            display: inline-block;
            padding: 10px 20px;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: 600;
        }

        .exercise-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .exercise-card {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #bae6fd;
        }

        .exercise-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            border-color: var(--accent);
        }

        .exercise-icon {
            font-size: 4em;
            margin-bottom: 15px;
        }

        .exercise-details {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 20px;
            border-left: 4px solid var(--accent);
        }

        .exercise-details ol {
            margin-left: 20px;
            margin-top: 15px;
            line-height: 2;
        }

        .exercise-details ol li {
            margin-bottom: 10px;
        }

        .resource-links {
            margin-top: 20px;
            padding: 20px;
            background: var(--light-bg);
            border-radius: 10px;
        }

        .video-container {
            margin-top: 20px;
            padding: 20px;
            background: #f0f9ff;
            border-radius: 10px;
            border: 2px solid var(--accent);
        }

        .quote {
            font-style: italic;
            color: var(--primary);
            font-size: 1.3em;
            line-height: 1.6;
            padding: 20px;
            background: var(--light-bg);
            border-left: 4px solid var(--primary);
            border-radius: 8px;
        }

        ul {
            margin-left: 20px;
            margin-top: 15px;
            line-height: 1.8;
        }

        ul li {
            margin-bottom: 10px;
        }

        textarea, input[type="text"], input[type="number"] {
            width: 100%;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-family: inherit;
            font-size: 1em;
        }

        textarea {
            resize: vertical;
            margin-top: 10px;
        }

        textarea:focus, input[type="text"]:focus, input[type="number"]:focus {
            outline: none;
            border-color: var(--primary);
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: var(--success);
            color: white;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 9999;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .mood-selector {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 10px;
        }

        .mood-btn {
            font-size: 3em;
            border: none;
            background: transparent;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .mood-btn:hover {
            transform: scale(1.2);
            background: var(--light-bg);
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .intention-item, .reminder-item {
            background: var(--light-bg);
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            border-left: 4px solid var(--success);
        }

        .reminder-item {
            background: #fef3c7;
            border-left-color: var(--warning);
        }

        .journal-entry-item {
            background: var(--light-bg);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
            cursor: pointer;
            transition: all 0.3s;
        }

        .journal-entry-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .journal-entry-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .journal-entry-title {
            font-weight: 700;
            color: var(--dark);
            font-size: 1.2em;
        }

        .journal-entry-date {
            color: var(--text);
            font-size: 0.9em;
        }

        .journal-entry-preview {
            color: var(--text);
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .goal-status {
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
        }

        .goal-met {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            border: 2px solid var(--success);
        }

        .goal-exceeded {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 2px solid var(--warning);
        }

        .goal-underachieved {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            border: 2px solid var(--danger);
        }

        .goal-link {
            display: inline-block;
            margin-top: 10px;
            padding: 10px 20px;
            background: white;
            color: var(--primary);
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .splash-title {
                font-size: 2.2em;
            }
            .splash-tagline {
                font-size: 1.1em;
            }
            .book-title {
                font-size: 1.3em;
            }
            .splash-intro h3 {
                font-size: 1.2em;
            }
            .splash-intro p {
                font-size: 0.95em;
            }
            .splash-logo {
                font-size: 3em;
            }
            .splash-enter-btn {
                font-size: 1.1em;
                padding: 12px 35px;
            }
            .splash-content {
                padding: 30px 15px;
            }
            .author-note {
                font-size: 0.9em;
            }
            .header {
                flex-direction: column;
                gap: 15px;
            }
            .nav-menu {
                flex-direction: column;
            }
            .nav-btn {
                width: 100%;
                justify-content: center;
            }
            .page-title {
                font-size: 2em;
            }
            .grid, .hotline-grid, .exercise-grid {
                grid-template-columns: 1fr;
            }
            .btn-group {
                flex-direction: column;
            }
            .journal-entry-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
        }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen">
        <div class="splash-content">
            <div class="splash-logo">üß†</div>
            <h1 class="splash-title">MindWell</h1>
            <p class="splash-tagline">Your Mental Wellness Companion</p>
            
            <div class="splash-intro">
                <h3>Welcome to Your Wellness Journey</h3>
                <p>MindWell is a comprehensive mental health companion designed to support you through mindfulness, journaling, crisis resources, and personal growth tools.</p>
                <p>Created with care to break barriers in mental health and provide accessible wellness support for everyone.</p>
            </div>

            <div class="book-feature">
                <h4>üìñ Companion to the Book:</h4>
                <div class="book-title">"Breaking Barriers: Black Mental Health Matters"</div>
                <p style="margin-top: 15px;">This app was created as a companion resource to complement the insights and strategies shared in the book.</p>
                
                <div class="author-note">
                    <strong>Author's Note:</strong> Mental health awareness and accessible support tools are essential for everyone. This app is built on the foundation that taking care of your mental health is an act of courage, not weakness. Whether you're seeking daily mindfulness practices, a safe space to journal, or immediate crisis resources, MindWell is here for you 24/7.
                    <p style="margin-top: 15px; text-align: right;">‚Äî Wayne Aince (Big Sarge)</p>
                </div>
            </div>

            <button class="splash-enter-btn" onclick="closeSplash()">Enter MindWell ‚Üí</button>
            <div class="auto-timer">
                <p>Automatically continuing in <span id="timer-countdown">5</span> seconds...</p>
            </div>
        </div>
    </div>

    <!-- Auth Container -->
    <div id="auth-container" class="auth-container hidden">
        <div class="auth-box">
            <div class="logo">üß† MindWell</div>
            <h2 id="auth-title">Welcome Back</h2>
            
            <form id="login-form" class="auth-form">
                <div class="input-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" required>
                </div>
                <div class="input-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" required>
                </div>
                <button type="submit" class="btn btn-primary">Log In</button>
                <p class="toggle-auth">Don't have an account? <a id="show-signup">Sign Up</a></p>
            </form>

            <form id="signup-form" class="auth-form hidden">
                <div class="input-group">
                    <label for="signup-name">Full Name</label>
                    <input type="text" id="signup-name" required>
                </div>
                <div class="input-group">
                    <label for="signup-email">Email</label>
                    <input type="email" id="signup-email" required>
                </div>
                <div class="input-group">
                    <label for="signup-password">Password</label>
                    <input type="password" id="signup-password" required minlength="6">
                </div>
                <div class="input-group">
                    <label for="signup-confirm">Confirm Password</label>
                    <input type="password" id="signup-confirm" required>
                </div>
                <button type="submit" class="btn btn-primary">Sign Up</button>
                <p class="toggle-auth">Already have an account? <a id="show-login">Log In</a></p>
            </form>
        </div>
    </div>

    <!-- Main App -->
    <div id="app-container" class="hidden">
        <div class="container">
            <div class="header">
                <div class="logo">üß† MindWell</div>
                <div class="header-right">
                    <span class="user-name" id="user-name"></span>
                    <button id="logout-btn" class="btn-logout">Logout</button>
                </div>
            </div>

            <div class="nav-menu">
                <button class="nav-btn active" data-page="dashboard">
                    <span class="nav-icon">üè†</span> Dashboard
                </button>
                <button class="nav-btn" data-page="mindfulness">
                    <span class="nav-icon">üßò</span> Mindfulness
                </button>
                <button class="nav-btn" data-page="motivation">
                    <span class="nav-icon">üí™</span> Motivation
                </button>
                <button class="nav-btn" data-page="crisis">
                    <span class="nav-icon">üÜò</span> Crisis Support
                </button>
                <button class="nav-btn" data-page="journal">
                    <span class="nav-icon">üìî</span> Journal
                </button>
                <button class="nav-btn" data-page="reminders">
                    <span class="nav-icon">üîî</span> Reminders
                </button>
                <button class="nav-btn" data-page="resources">
                    <span class="nav-icon">üìö</span> Resources
                </button>
            </div>

            <!-- Dashboard -->
            <div id="page-dashboard" class="page">
                <h1 class="page-title">Your Wellness Dashboard</h1>
                
                <div class="grid">
                    <div class="card">
                        <h3>üéØ Today's Focus</h3>
                        <p class="quote">"Taking care of your mental health is an act of courage, not weakness."</p>
                    </div>
                    <div class="card">
                        <h3>üòä Mood Check-in</h3>
                        <div class="mood-selector">
                            <button class="mood-btn" title="Great">üòÑ</button>
                            <button class="mood-btn" title="Good">üôÇ</button>
                            <button class="mood-btn" title="Okay">üòê</button>
                            <button class="mood-btn" title="Sad">üò¢</button>
                            <button class="mood-btn" title="Stressed">üò∞</button>
                        </div>
                        <p style="text-align: center; color: #64748b;">How are you feeling today?</p>
                    </div>
                </div>

                <div class="card">
                    <h2>üöÄ Quick Start</h2>
                    <p>Welcome to MindWell! Use the menu above to:</p>
                    <ul>
                        <li>Practice mindfulness exercises</li>
                        <li>Get daily motivation and affirmations</li>
                        <li>Access crisis support resources</li>
                        <li>Write in your personal journal</li>
                        <li>Set daily reminders</li>
                        <li>Explore mental health resources</li>
                    </ul>
                </div>
            </div>

            <!-- Mindfulness -->
            <div id="page-mindfulness" class="page hidden">
                <h1 class="page-title">üßò Mindfulness & Meditation</h1>
                
                <div class="exercise-grid">
                    <div class="exercise-card" onclick="toggleExercise('breathing')">
                        <div class="exercise-icon">üå¨Ô∏è</div>
                        <h3>Deep Breathing</h3>
                        <p>5-minute guided breathing exercise</p>
                        <p style="font-size: 0.9em; color: #64748b; margin-top: 10px;">Click to view guide</p>
                    </div>
                    <div class="exercise-card" onclick="toggleExercise('bodyscan')">
                        <div class="exercise-icon">üßò‚Äç‚ôÄÔ∏è</div>
                        <h3>Body Scan</h3>
                        <p>10-minute relaxation meditation</p>
                        <p style="font-size: 0.9em; color: #64748b; margin-top: 10px;">Click to view guide</p>
                    </div>
                    <div class="exercise-card" onclick="toggleExercise('gratitude')">
                        <div class="exercise-icon">üôè</div>
                        <h3>Gratitude Practice</h3>
                        <p>Reflect on what you're grateful for</p>
                        <p style="font-size: 0.9em; color: #64748b; margin-top: 10px;">Click to view guide</p>
                    </div>
                    <div class="exercise-card" onclick="toggleExercise('visualization')">
                        <div class="exercise-icon">üåÖ</div>
                        <h3>Visualization</h3>
                        <p>Create your peaceful sanctuary</p>
                        <p style="font-size: 0.9em; color: #64748b; margin-top: 10px;">Click to view guide</p>
                    </div>
                </div>

                <!-- Deep Breathing Guide -->
                <div id="exercise-breathing" class="card hidden">
                    <h2>üå¨Ô∏è Deep Breathing Exercise (5 minutes)</h2>
                    <div class="exercise-details">
                        <h4>Instructions:</h4>
                        <ol>
                            <li>Find a comfortable seated position</li>
                            <li>Close your eyes or soften your gaze</li>
                            <li>Breathe in slowly through your nose for 4 counts</li>
                            <li>Hold your breath for 4 counts</li>
                            <li>Exhale slowly through your mouth for 6 counts</li>
                            <li>Pause for 2 counts</li>
                            <li>Repeat for 5 minutes</li>
                        </ol>
                        
                        <div class="resource-links">
                            <h4>üîó Guided Resources:</h4>
                            <a href="https://www.youtube.com/watch?v=SEfs5TJZ6Nk" target="_blank" class="btn-link">5-Minute Breathing Exercise Video</a>
                            <a href="https://www.headspace.com/meditation/techniques/deep-breathing" target="_blank" class="btn-link">Headspace Deep Breathing Guide</a>
                            <a href="https://www.calm.com/blog/breathing-exercises" target="_blank" class="btn-link">Calm - Breathing Techniques</a>
                        </div>
                    </div>
                </div>

                <!-- Body Scan Guide -->
                <div id="exercise-bodyscan" class="card hidden">
                    <h2>üßò‚Äç‚ôÄÔ∏è Body Scan Meditation (10 minutes)</h2>
                    <div class="exercise-details">
                        <h4>Instructions:</h4>
                        <ol>
                            <li>Lie down or sit comfortably</li>
                            <li>Close your eyes and take 3 deep breaths</li>
                            <li>Focus attention on your toes - notice sensations</li>
                            <li>Slowly move awareness up through your feet, legs, torso</li>
                            <li>Continue through arms, hands, neck, and head</li>
                            <li>Notice any tension and consciously relax those areas</li>
                            <li>Spend 30-60 seconds on each body part</li>
                            <li>End by taking 3 deep breaths</li>
                        </ol>
                        
                        <div class="resource-links">
                            <h4>üîó Guided Resources:</h4>
                            <a href="https://www.youtube.com/watch?v=ihO02wUzgkc" target="_blank" class="btn-link">10-Min Body Scan Video</a>
                            <a href="https://www.uclahealth.org/programs/marc/free-guided-meditations/guided-meditations" target="_blank" class="btn-link">UCLA Free Guided Meditations</a>
                            <a href="https://www.mindful.org/a-3-minute-body-scan-meditation-to-cultivate-mindfulness/" target="_blank" class="btn-link">Mindful.org Body Scan Guide</a>
                        </div>
                    </div>
                </div>

                <!-- Gratitude Practice Guide -->
                <div id="exercise-gratitude" class="card hidden">
                    <h2>üôè Gratitude Practice (3-5 minutes)</h2>
                    <div class="exercise-details">
                        <h4>Instructions:</h4>
                        <ol>
                            <li>Find a quiet, comfortable place to sit</li>
                            <li>Take a few deep breaths to center yourself</li>
                            <li>Think of 3 things you're grateful for today</li>
                            <li>For each one, really feel the gratitude in your body</li>
                            <li>Notice where you feel it (heart, chest, warmth)</li>
                            <li>Write them down in a gratitude journal if you'd like</li>
                            <li>End with a smile and carry that feeling forward</li>
                        </ol>
                        
                        <div class="resource-links">
                            <h4>üîó Guided Resources:</h4>
                            <a href="https://www.youtube.com/watch?v=nj2ofrX7jAk" target="_blank" class="btn-link">Gratitude Meditation Video</a>
                            <a href="https://greatergood.berkeley.edu/article/item/tips_for_keeping_a_gratitude_journal" target="_blank" class="btn-link">Berkeley - Gratitude Journal Tips</a>
                            <a href="https://www.gratefulness.org/resource/guided-gratitude-meditation/" target="_blank" class="btn-link">Guided Gratitude Meditation</a>
                        </div>
                    </div>
                </div>

                <!-- Visualization Guide -->
                <div id="exercise-visualization" class="card hidden">
                    <h2>üåÖ Visualization Meditation (7-10 minutes)</h2>
                    <div class="exercise-details">
                        <h4>Instructions:</h4>
                        <ol>
                            <li>Sit or lie down in a comfortable position</li>
                            <li>Close your eyes and take several deep breaths</li>
                            <li>Imagine your ideal peaceful place (beach, forest, mountain)</li>
                            <li>Engage all 5 senses - what do you see, hear, smell, feel, taste?</li>
                            <li>Notice colors, textures, temperature, sounds</li>
                            <li>Feel the peace and safety of this place</li>
                            <li>Stay here for 5-10 minutes</li>
                            <li>When ready, slowly open your eyes</li>
                        </ol>
                        
                        <div class="resource-links">
                            <h4>üé• Guided Visualization Videos:</h4>
                            <a href="https://www.youtube.com/watch?v=1vx8iUvfyCY" target="_blank" class="btn-link">Beach Visualization (10 min)</a>
                            <a href="https://www.youtube.com/watch?v=jPpUNAFHgxM" target="_blank" class="btn-link">Forest Visualization (15 min)</a>
                            <a href="https://www.youtube.com/watch?v=z6X5oEIg6Ak" target="_blank" class="btn-link">Mountain Peace Visualization</a>
                        </div>

                        <div class="video-container">
                            <h4>üéµ Relaxing Music for Visualization:</h4>
                            <a href="https://www.youtube.com/watch?v=lFcSrYw-ARY" target="_blank" class="btn-link">Peaceful Piano Music (3 hours)</a>
                            <a href="https://www.youtube.com/watch?v=2OEL4P1Rz04" target="_blank" class="btn-link">Nature Sounds & Music</a>
                            <a href="https://www.youtube.com/watch?v=1ZYbU82GVz4" target="_blank" class="btn-link">Meditation Music (6 hours)</a>
                            <a href="https://www.calm.com/breathe" target="_blank" class="btn-link">Calm - Breathing Bubble</a>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>Benefits of Mindfulness</h2>
                    <ul>
                        <li>Reduces stress and anxiety</li>
                        <li>Improves focus and concentration</li>
                        <li>Enhances emotional regulation</li>
                        <li>Promotes better sleep</li>
                        <li>Increases self-awareness</li>
                    </ul>
                </div>
            </div>

            <!-- Motivation -->
            <div id="page-motivation" class="page hidden">
                <h1 class="page-title">üí™ Daily Motivation</h1>
                
                <div class="card">
                    <h2>Quote of the Day</h2>
                    <p class="quote">"You don't have to control your thoughts. You just have to stop letting them control you."</p>
                </div>

                <div class="card">
                    <h2>Affirmations</h2>
                    <div style="background: #f0f9ff; padding: 20px; border-radius: 10px; font-size: 1.2em; text-align: center; color: #0c4a6e; margin: 15px 0;">
                        I am worthy of love, peace, and happiness.
                    </div>
                    <button class="btn btn-secondary" style="width: 100%; margin-top: 10px;">Get New Affirmation</button>
                </div>

                <div class="card">
                    <h2>Set Your Intentions</h2>
                    <p>What are your intentions for today?</p>
                    <textarea id="intention-input" rows="4" placeholder="Write your intentions here..."></textarea>
                    <button id="save-intention-btn" class="btn btn-primary" style="margin-top: 15px;">Save Intention</button>
                    <div id="saved-intentions"></div>
                </div>
            </div>

            <!-- Crisis Support -->
            <div id="page-crisis" class="page hidden">
                <h1 class="page-title">üÜò Crisis Support</h1>
                
                <div class="crisis-alert">
                    <h3>‚ö†Ô∏è If You're in Immediate Danger</h3>
                    <p>Call <strong>911</strong> or go to your nearest emergency room</p>
                </div>

                <div class="hotline-grid">
                    <div class="hotline-card urgent">
                        <h3>988 Suicide & Crisis Lifeline</h3>
                        <p>24/7 support for people in crisis</p>
                        <a href="tel:988" class="btn-emergency">Call 988</a>
                        <p style="font-size: 0.9em; color: #64748b; margin-top: 10px;">Available 24/7</p>
                    </div>
                    <div class="hotline-card">
                        <h3>Crisis Text Line</h3>
                        <p>Text support for any crisis</p>
                        <a href="sms:741741&body=HELLO" class="btn-emergency">Text HELLO to 741741</a>
                        <p style="font-size: 0.9em; color: #64748b; margin-top: 10px;">Free, confidential</p>
                    </div>
                    <div class="hotline-card">
                        <h3>Veterans Crisis Line</h3>
                        <p>Support for veterans</p>
                        <a href="tel:988" class="btn-emergency">Call 988, Press 1</a>
                        <p style="font-size: 0.9em; color: #64748b; margin-top: 10px;">Or text 838255</p>
                    </div>
                </div>

                <div class="card">
                    <h2>Grounding Technique (5-4-3-2-1)</h2>
                    <ul>
                        <li><strong>5 things you can see</strong></li>
                        <li><strong>4 things you can touch</strong></li>
                        <li><strong>3 things you can hear</strong></li>
                        <li><strong>2 things you can smell</strong></li>
                        <li><strong>1 thing you can taste</strong></li>
                    </ul>
                </div>

                <div class="card">
                    <h2>Your Safety Plan</h2>
                    <p>Create a personalized plan for difficult moments:</p>
                    <textarea id="safety-plan" rows="8" placeholder="Example:

1. Warning signs I notice:
   - Feeling overwhelmed, withdrawing from others

2. People I can reach out to:
   - Friend: [Name and phone]
   - Family: [Name and phone]

3. Places I feel safe:
   - My bedroom, local park

4. Things that help me calm down:
   - Deep breathing, listening to music, walking

5. Reasons for living:
   - My family, my goals, my pets"></textarea>
                    <div class="btn-group">
                        <button id="save-safety-plan" class="btn btn-primary">Save Plan</button>
                        <button id="clear-safety-plan" class="btn btn-secondary">Clear</button>
                    </div>
                </div>
            </div>

            <!-- Journal (keeping previous enhanced version) -->
            <div id="page-journal" class="page hidden">
                <h1 class="page-title">üìî Personal Journal</h1>
                
                <div id="journal-goal-status"></div>

                <div class="card">
                    <h2>‚öôÔ∏è Journal Goal Settings</h2>
                    <p>Set your weekly journaling goal:</p>
                    <div style="display: flex; align-items: center; gap: 15px; margin-top: 15px;">
                        <label style="font-weight: 600;">Entries per week:</label>
                        <input type="number" id="journal-goal" min="1" max="7" value="3" style="width: 100px;">
                        <button id="set-goal-btn" class="btn btn-secondary">Set Goal</button>
                    </div>
                </div>

                <div class="card">
                    <h2>‚úçÔ∏è New Entry</h2>
                    <input type="text" id="journal-title" placeholder="Entry title..." style="margin-bottom: 15px;">
                    <textarea id="journal-entry" rows="10" placeholder="How are you feeling today? What's on your mind?"></textarea>
                    <div class="btn-group">
                        <button id="save-journal" class="btn btn-primary">Save Entry</button>
                        <button id="clear-journal" class="btn btn-secondary">Clear</button>
                    </div>
                </div>

                <div class="card">
                    <h2>Journal Prompts</h2>
                    <div id="journal-prompt" style="background: #fef3c7; padding: 20px; border-radius: 10px; font-style: italic; color: #78350f; margin: 15px 0;">
                        "What are three things you're grateful for today?"
                    </div>
                    <button id="new-prompt-btn" class="btn btn-secondary" style="width: 100%;">Get New Prompt</button>
                </div>

                <div class="card">
                    <h2>üìö Journal History</h2>
                    <p style="color: #64748b; margin-bottom: 15px;">Click on any entry to view the full content</p>
                    <div id="journal-history">
                        <p style="text-align: center; color: #64748b;">No entries yet. Start journaling above!</p>
                    </div>
                </div>
            </div>

            <!-- Reminders -->
            <div id="page-reminders" class="page hidden">
                <h1 class="page-title">üîî Daily Reminders</h1>
                
                <div class="card">
                    <h2>Set a New Reminder</h2>
                    <input type="text" id="reminder-text" placeholder="What do you want to be reminded of?" style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600;">Time:</label>
                    <input type="time" id="reminder-time" style="margin-bottom: 15px; padding: 12px;">
                    <button id="add-reminder-btn" class="btn btn-primary" style="width: 100%;">Add Reminder</button>
                </div>

                <div class="card">
                    <h2>Your Reminders</h2>
                    <div id="reminders-list">
                        <p style="color: #64748b; text-align: center;">No reminders set yet. Add one above!</p>
                    </div>
                </div>

                <div class="card">
                    <h2>Suggested Reminders</h2>
                    <ul>
                        <li>Take a mindfulness break</li>
                        <li>Check in with your mood</li>
                        <li>Write in your journal</li>
                        <li>Practice gratitude</li>
                        <li>Reach out to a friend</li>
                    </ul>
                </div>
            </div>

            <!-- Resources -->
            <div id="page-resources" class="page hidden">
                <h1 class="page-title">üìö Mental Health Resources</h1>
                
                <div class="grid">
                    <div class="card">
                        <h3>üéñÔ∏è Veterans & Military Families</h3>
                        <ul>
                            <li><a href="https://www.ptsd.va.gov" target="_blank" style="color: #4f46e5; font-weight: 600;">PTSD.va.gov</a> - PTSD resources for veterans and families</li>
                            <li><a href="https://www.veteranscrisisline.net" target="_blank" style="color: #4f46e5;">Veterans Crisis Line</a></li>
                            <li><a href="https://www.va.gov/health-care/health-needs-conditions/mental-health/" target="_blank" style="color: #4f46e5;">VA Mental Health Services</a></li>
                        </ul>
                    </div>

                    <div class="card">
                        <h3>üéì Educational Resources</h3>
                        <ul>
                            <li><a href="https://www.mentalhealth.gov" target="_blank" style="color: #4f46e5;">MentalHealth.gov</a></li>
                            <li><a href="https://www.nimh.nih.gov" target="_blank" style="color: #4f46e5;">NIMH</a></li>
                            <li><a href="https://www.nami.org" target="_blank" style="color: #4f46e5;">NAMI</a></li>
                            <li><a href="https://www.samhsa.gov" target="_blank" style="color: #4f46e5;">SAMHSA</a></li>
                        </ul>
                    </div>

                    <div class="card">
                        <h3>üìñ Recommended Reading</h3>
                        <ul>
                            <li><strong>"Breaking Barriers: Black Mental Health Matters"</strong></li>
                            <li>"The Body Keeps the Score" - van der Kolk</li>
                            <li>"Maybe You Should Talk to Someone" - Gottlieb</li>
                            <li>"The Gifts of Imperfection" - Brown</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h3>üè• Finding Help</h3>
                        <ul>
                            <li><a href="https://www.psychologytoday.com/us/therapists" target="_blank" style="color: #4f46e5;">Find a Therapist</a></li>
                            <li><a href="https://findtreatment.samhsa.gov/" target="_blank" style="color: #4f46e5;">Community Mental Health Centers</a> - SAMHSA Treatment Locator</li>
                            <li><a href="https://www.dol.gov/general/topic/benefits-leave/eap" target="_blank" style="color: #4f46e5;">Employee Assistance Programs (EAP)</a> - Information & Resources</li>
                            <li><a href="https://www.healthcare.gov/coverage/mental-health-substance-abuse-coverage/" target="_blank" style="color: #4f46e5;">Insurance Provider Directories</a> - Mental Health Coverage Guide</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentUser = null;
        let splashTimer;
        let countdown = 5;

        // Start auto-timer when page loads
        window.addEventListener('load', function() {
            startSplashTimer();
        });

        function startSplashTimer() {
            splashTimer = setInterval(function() {
                countdown--;
                const timerElement = document.getElementById('timer-countdown');
                if (timerElement) {
                    timerElement.textContent = countdown;
                }
                
                if (countdown <= 0) {
                    clearInterval(splashTimer);
                    closeSplash();
                }
            }, 1000);
        }

        // Splash Screen Function
        function closeSplash() {
            clearInterval(splashTimer); // Stop timer if user clicks button
            const splash = document.getElementById('splash-screen');
            splash.classList.add('fade-out');
            setTimeout(() => {
                splash.style.display = 'none';
                // Check if user is already logged in
                checkAuth();
                if (!currentUser) {
                    document.getElementById('auth-container').classList.remove('hidden');
                }
            }, 500);
        }

        const journalPrompts = [
            "What are three things you're grateful for today?",
            "How did you show yourself kindness today?",
            "What's one challenge you faced and how did you handle it?",
            "Write about a moment when you felt proud of yourself.",
            "What does self-care mean to you?",
            "Describe a place where you feel completely at peace.",
            "What are your goals for this week?",
            "Who in your life makes you feel supported?",
            "What's one thing you learned about yourself recently?",
            "How do you want to feel tomorrow?"
        ];
        let currentPromptIndex = 0;

        function toggleExercise(exerciseId) {
            const element = document.getElementById('exercise-' + exerciseId);
            if (element.classList.contains('hidden')) {
                // Hide all exercises first
                document.querySelectorAll('[id^="exercise-"]').forEach(el => {
                    el.classList.add('hidden');
                });
                // Show selected exercise
                element.classList.remove('hidden');
                element.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                element.classList.add('hidden');
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            checkAuth();
            setupEventListeners();
        });

        function setupEventListeners() {
            document.getElementById('login-form').addEventListener('submit', handleLogin);
            document.getElementById('signup-form').addEventListener('submit', handleSignup);
            document.getElementById('show-signup').addEventListener('click', (e) => { e.preventDefault(); showSignupForm(); });
            document.getElementById('show-login').addEventListener('click', (e) => { e.preventDefault(); showLoginForm(); });
            document.getElementById('logout-btn').addEventListener('click', logout);

            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    showPage(this.dataset.page);
                });
            });

            document.querySelectorAll('.mood-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    showNotification('Mood recorded: ' + this.title, 'success');
                });
            });

            document.getElementById('new-prompt-btn').addEventListener('click', getNewPrompt);
            document.getElementById('save-safety-plan').addEventListener('click', saveSafetyPlan);
            document.getElementById('clear-safety-plan').addEventListener('click', clearSafetyPlan);
            document.getElementById('save-journal').addEventListener('click', saveJournal);
            document.getElementById('clear-journal').addEventListener('click', clearJournal);
            document.getElementById('save-intention-btn').addEventListener('click', saveIntention);
            document.getElementById('add-reminder-btn').addEventListener('click', addReminder);
            document.getElementById('set-goal-btn').addEventListener('click', setJournalGoal);
        }

        function setJournalGoal() {
            const goal = parseInt(document.getElementById('journal-goal').value);
            if (goal >= 1 && goal <= 7) {
                localStorage.setItem('journalGoal_' + currentUser.id, goal);
                showNotification('Journal goal set to ' + goal + ' entries per week!', 'success');
                updateJournalGoalStatus();
            }
        }

        function updateJournalGoalStatus() {
            const goal = parseInt(localStorage.getItem('journalGoal_' + currentUser.id) || 3);
            const entries = getJournalEntries();
            
            const weekAgo = new Date();
            weekAgo.setDate(weekAgo.getDate() - 7);
            
            const recentEntries = entries.filter(entry => {
                const entryDate = new Date(entry.timestamp);
                return entryDate >= weekAgo;
            });

            const count = recentEntries.length;
            const statusDiv = document.getElementById('journal-goal-status');
            
            let statusHTML = '';
            let statusClass = '';
            let message = '';
            
            if (count >= goal * 1.5) {
                statusClass = 'goal-exceeded';
                message = `üéâ Exceeded! You've made ${count} entries this week (Goal: ${goal})`;
            } else if (count >= goal) {
                statusClass = 'goal-met';
                message = `‚úÖ Goal Met! You've made ${count} entries this week (Goal: ${goal})`;
            } else {
                statusClass = 'goal-underachieved';
                message = `üìù Keep Going! You've made ${count} of ${goal} entries this week`;
            }
            
            statusHTML = `
                <div class="card">
                    <div class="goal-status ${statusClass}">
                        <h3>${message}</h3>
                        ${count < goal ? '<a href="#" class="goal-link" onclick="showPage(\'motivation\'); return false;">Get Motivation & Affirmations ‚Üí</a>' : ''}
                    </div>
                </div>
            `;
            
            statusDiv.innerHTML = statusHTML;
        }

        function getJournalEntries() {
            return JSON.parse(localStorage.getItem('journalEntries_' + currentUser.id) || '[]');
        }

        function saveJournalEntries(entries) {
            localStorage.setItem('journalEntries_' + currentUser.id, JSON.stringify(entries));
        }

        function saveJournal() {
            const title = document.getElementById('journal-title').value.trim();
            const content = document.getElementById('journal-entry').value.trim();
            
            if (title && content) {
                const entries = getJournalEntries();
                const newEntry = {
                    id: Date.now(),
                    title: title,
                    content: content,
                    timestamp: new Date().toISOString(),
                    dateDisplay: new Date().toLocaleString()
                };
                
                entries.unshift(newEntry);
                saveJournalEntries(entries);
                
                showNotification('Journal entry saved!', 'success');
                clearJournal();
                displayJournalHistory();
                updateJournalGoalStatus();
            } else {
                showNotification('Please add both title and content', 'error');
            }
        }

        function displayJournalHistory() {
            const entries = getJournalEntries();
            const historyDiv = document.getElementById('journal-history');
            
            if (entries.length === 0) {
                historyDiv.innerHTML = '<p style="text-align: center; color: #64748b;">No entries yet. Start journaling above!</p>';
                return;
            }
            
            let html = '';
            entries.forEach(entry => {
                const preview = entry.content.length > 150 
                    ? entry.content.substring(0, 150) + '...' 
                    : entry.content;
                    
                html += `
                    <div class="journal-entry-item" onclick="viewJournalEntry(${entry.id})">
                        <div class="journal-entry-header">
                            <div class="journal-entry-title">${entry.title}</div>
                            <div class="journal-entry-date">${entry.dateDisplay}</div>
                        </div>
                        <div class="journal-entry-preview">${preview}</div>
                    </div>
                `;
            });
            
            historyDiv.innerHTML = html;
        }

        function viewJournalEntry(id) {
            const entries = getJournalEntries();
            const entry = entries.find(e => e.id === id);
            
            if (entry) {
                alert(`${entry.title}\n\n${entry.dateDisplay}\n\n${entry.content}`);
            }
        }

        function saveIntention() {
            const text = document.getElementById('intention-input').value.trim();
            if (text) {
                const intentionDiv = document.createElement('div');
                intentionDiv.className = 'intention-item';
                intentionDiv.innerHTML = `<strong>${new Date().toLocaleDateString()}</strong><br>${text}`;
                document.getElementById('saved-intentions').appendChild(intentionDiv);
                document.getElementById('intention-input').value = '';
                showNotification('Intention saved!', 'success');
            } else {
                showNotification('Please write an intention first', 'error');
            }
        }

        function addReminder() {
            const text = document.getElementById('reminder-text').value.trim();
            const time = document.getElementById('reminder-time').value;
            
            if (text && time) {
                const listDiv = document.getElementById('reminders-list');
                if (listDiv.querySelector('p')) {
                    listDiv.innerHTML = '';
                }
                
                const reminderDiv = document.createElement('div');
                reminderDiv.className = 'reminder-item';
                reminderDiv.innerHTML = `<strong>‚è∞ ${time}</strong><br>${text}`;
                listDiv.appendChild(reminderDiv);
                
                document.getElementById('reminder-text').value = '';
                document.getElementById('reminder-time').value = '';
                showNotification('Reminder added!', 'success');
            } else {
                showNotification('Please enter both reminder text and time', 'error');
            }
        }

        function getNewPrompt() {
            currentPromptIndex = (currentPromptIndex + 1) % journalPrompts.length;
            document.getElementById('journal-prompt').textContent = '"' + journalPrompts[currentPromptIndex] + '"';
            showNotification('New prompt loaded!', 'success');
        }

        function saveSafetyPlan() {
            const plan = document.getElementById('safety-plan').value.trim();
            if (plan) {
                localStorage.setItem('safetyPlan_' + currentUser.id, plan);
                showNotification('Safety plan saved!', 'success');
            } else {
                showNotification('Please write a safety plan first', 'error');
            }
        }

        function clearSafetyPlan() {
            document.getElementById('safety-plan').value = '';
            showNotification('Safety plan cleared', 'success');
        }

        function loadSafetyPlan() {
            if (currentUser) {
                const saved = localStorage.getItem('safetyPlan_' + currentUser.id);
                if (saved) {
                    document.getElementById('safety-plan').value = saved;
                }
            }
        }

        function clearJournal() {
            document.getElementById('journal-title').value = '';
            document.getElementById('journal-entry').value = '';
        }

        function showSignupForm() {
            document.getElementById('login-form').classList.add('hidden');
            document.getElementById('signup-form').classList.remove('hidden');
            document.getElementById('auth-title').textContent = 'Create Account';
        }

        function showLoginForm() {
            document.getElementById('signup-form').classList.add('hidden');
            document.getElementById('login-form').classList.remove('hidden');
            document.getElementById('auth-title').textContent = 'Welcome Back';
        }

        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;

            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);

            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                showApp();
                loadSafetyPlan();
                displayJournalHistory();
                updateJournalGoalStatus();
                showNotification('Welcome back, ' + user.name + '!', 'success');
            } else {
                showNotification('Invalid email or password', 'error');
            }
        }

        function handleSignup(e) {
            e.preventDefault();
            const name = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            const confirm = document.getElementById('signup-confirm').value;

            if (password !== confirm) {
                showNotification('Passwords do not match', 'error');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '[]');
            if (users.find(u => u.email === email)) {
                showNotification('Email already registered', 'error');
                return;
            }

            const newUser = { 
                id: Date.now(), 
                name, 
                email, 
                password,
                createdAt: new Date().toISOString()
            };
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));

            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            localStorage.setItem('journalGoal_' + newUser.id, 3);
            showApp();
            updateJournalGoalStatus();
            showNotification('Account created successfully!', 'success');
        }

        function checkAuth() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            if (user) {
                currentUser = user;
                showApp();
                loadSafetyPlan();
                displayJournalHistory();
                updateJournalGoalStatus();
            }
        }

        function showApp() {
            document.getElementById('auth-container').classList.add('hidden');
            document.getElementById('app-container').classList.remove('hidden');
            document.getElementById('user-name').textContent = currentUser.name;
        }

        function logout() {
            localStorage.removeItem('currentUser');
            currentUser = null;
            document.getElementById('auth-container').classList.remove('hidden');
            document.getElementById('app-container').classList.add('hidden');
            showNotification('Logged out successfully', 'success');
            document.getElementById('login-form').reset();
            document.getElementById('signup-form').reset();
            showLoginForm();
        }

        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById('page-' + pageName).classList.remove('hidden');
            document.querySelector(`[data-page="${pageName}"]`).classList.add('active');
            
            if (pageName === 'journal') {
                updateJournalGoalStatus();
            }
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.style.background = type === 'success' ? '#10b981' : '#ef4444';
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }
    </script>
</body>
</html>
